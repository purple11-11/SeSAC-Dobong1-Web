<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>실습 index</title>
  </head>
  <body>
    <h2>GET 요청 form</h2>
    <form action="/practice" method="get">
      <label for="name">이름</label>
      <input type="text" id="name" name="name" />

      <fieldset>
        <legend>성별</legend>
        <label><input type="radio" name="gender" value="남자" />남자</label>
        <label><input type="radio" name="gender" value="여자" />여자</label>
      </fieldset>
      <br />
      <fieldset>
        <legend>생년월일</legend>
        <select name="yy" id="year">
          <option selected>2024</option></select
        >년
        <select name="mm" id="month">
          <option selected>1</option></select
        >월
        <select name="dd" id="day">
          <option selected>1</option></select
        >일
      </fieldset>
      <br />
      <fieldset>
        <legend>관심사</legend>
        <label><input type="checkbox" name="interest" value="여행" />여행</label>
        <label><input type="checkbox" name="interest" value="패션" />패션</label>
        <label><input type="checkbox" name="interest" value="음식" />음식</label>
      </fieldset>
      <br />
      <input type="submit" value="회원가입" />
    </form>
  </body>
  <script>
    const yearEl = document.querySelector("#year");
    const monthEl = document.querySelector("#month");
    const dayEl = document.querySelector("#day");
    let today = new Date();
    let year = today.getFullYear();

    isYearOptionExisted = false;
    yearEl.addEventListener("focus", function () {
      if (!isYearOptionExisted) {
        isYearOptionExisted = true;
        for (let i = year - 1; i >= 1940; i--) {
          const option = document.createElement("option");
          option.setAttribute("value", i);
          option.innerText = i;
          this.appendChild(option);
        }
      }
    });

    isMonthOptionExisted = false;
    monthEl.addEventListener("focus", function () {
      if (!isMonthOptionExisted) {
        isMonthOptionExisted = true;
        for (let i = 2; i <= 12; i++) {
          const option = document.createElement("option");
          option.setAttribute("value", i);
          option.innerText = i;
          this.appendChild(option);
        }
      }
    });

    isDayOptionExisted = false;
    dayEl.addEventListener("focus", function () {
      if (!isDayOptionExisted) {
        isDayOptionExisted = true;
        for (let i = 2; i <= 31; i++) {
          const option = document.createElement("option");
          option.setAttribute("value", i);
          option.innerText = i;
          this.appendChild(option);
        }
      }
    });
  </script>
</html>
